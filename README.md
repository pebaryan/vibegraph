![Image generated by AI](<images/ChatGPT Image Jan 5, 2026, 08_48_51 PM.png>)

# VibeGraph

A Web UI for RDFLib.
This repository contains a lightweight backend built with Flask and a frontend Angular application that lets users query and visualize RDF data. User can create empty graph or upload from existing RDF files or connect to a SPARQL endpoint. User can explore the content of each graph by listing all classes and navigate through each URI. User can search for URI.

### Tools
made with [vibe-kanban](https://github.com/BloopAI/vibe-kanban), [claude-code-router](https://github.com/musistudio/claude-code-router), [claude-code](https://claude.com/product/claude-code), [llama.cpp](https://github.com/ggml-org/llama.cpp), [gemini](https://gemini.google.com/app), [chatGPT](https://chatgpt.com/) using [GPT4-oss:20b](https://huggingface.co/ggml-org/gpt-oss-20b-GGUF)

## Screenshots

![explore graphs](<images/Screenshot 2026-01-06 232610.png>) ![overview](<images/Screenshot 2026-01-06 232428.png>) ![visualization](<images/Screenshot 2026-01-06 232507.png>) ![SPARQL query](<images/Screenshot 2026-01-06 232534.png>) ![URI search](<images/Screenshot 2026-01-06 232550.png>)

## Local Setup

### Backend

```bash
# From the project root
pip install -r backend/requirements.txt
```

### Frontend

```bash
# From the frontend directory
cd frontend
npm install
```

## Docker Setup

Run the following command from the project root:

```bash
docker compose up --build
```

This will build the backend and frontend images, expose the backend on port **5000** and the frontend on port **4200**.

Once both containers are up, you can access:

- **Frontend**: <http://localhost:4200>
- **Backend API**: <http://localhost:5000>
- **Swagger UI**: <http://localhost:5000/apidocs>

---

## Endpoints

| Method | Path                            | Description                                                                       |
| ------ | ------------------------------- | --------------------------------------------------------------------------------- |
| POST   | `/api/graphs`                   | Create a new graph. Request body: `{"name": "my graph"}`                          |
| GET    | `/api/graphs`                   | List all graphs                                                                   |
| GET    | `/api/graphs/<graph_id>`        | Retrieve metadata for a graph                                                     |
| PUT    | `/api/graphs/<graph_id>`        | Update graph name. Request body: `{"name": "new name"}`                           |
| DELETE | `/api/graphs/<graph_id>`        | Delete a graph                                                                    |
| POST   | `/api/graphs/<graph_id>/upload` | Upload an RDF file. Use `multipart/form-data` with field `file`.                  |
| GET    | `/api/graphs/<graph_id>/export` | Export a graph. Query param `format` supports turtle, jsonld, rdfxml, nt, trig, nquads. |
| POST   | `/api/graphs/<graph_id>/triples/delete` | Delete a triple from a graph. Request body: `{"subject": "...", "predicate": "...", "object": "..."}` |
| POST   | `/api/queries`                  | Execute a SPARQL query. Request body: `{"query": "SELECT â€¦", "graph_id": "<id>"}` |
| GET    | `/api/queries/history`          | Get mock query history                                                            |
| GET    | `/api/search`                   | Search entities. Request body: `{"query": "search text", "search_by": "label"}`   |
| POST   | `/api/llm/extract`              | Extract entities/relationships from text. Request body: `{"text": "..."}`         |
| POST   | `/api/llm/link`                 | Recommend graph entities. Request body: `{"graph_id": "...", "entities": [...]}`  |
| POST   | `/api/graphs/clear`             | Clear all graphs and optional history/index (testing cleanup).                    |
| GET    | `/sparql`                       | SPARQL protocol endpoint (proxy). Query via `query=`.                             |
| POST   | `/sparql`                       | SPARQL protocol endpoint (proxy). Query or update via content type.               |
| GET    | `/sparql/query`                 | SPARQL read endpoint (SELECT/ASK/CONSTRUCT/DESCRIBE).                             |
| POST   | `/sparql/query`                 | SPARQL read endpoint (SELECT/ASK/CONSTRUCT/DESCRIBE).                             |
| POST   | `/sparql/update`                | SPARQL update endpoint (INSERT/DELETE/etc).                                       |
| GET    | `/sparql/info`                  | SPARQL endpoint capabilities.                                                     |

---

## Example cURL commands

```bash
# Create a graph
curl -X POST http://localhost:5000/api/graphs \
     -H "Content-Type: application/json" \
     -d '{"name": "example"}'
```

```bash
# List graphs
curl http://localhost:5000/api/graphs
```

```bash
# Upload RDF file to graph with ID 1234
curl -X POST http://localhost:5000/api/graphs/1234/upload \
     -F "file=@/path/to/data.ttl"
```

```bash
# Export a graph (turtle)
curl -X GET "http://localhost:5000/api/graphs/1234/export?format=turtle" -o graph.ttl
```

```bash
# Delete a triple
# For literals with language or datatype, use the quoted literal form:
#   "label"@en or "42"^^xsd:integer
curl -X POST http://localhost:5000/api/graphs/1234/triples/delete \
     -H "Content-Type: application/json" \
     -d '{"subject": "http://example.org/s", "predicate": "http://example.org/p", "object": "http://example.org/o"}'
```

```bash
# Execute a SPARQL query
curl -X POST http://localhost:5000/api/queries \
     -H "Content-Type: application/json" \
     -d '{"query": "SELECT ?s ?p ?o WHERE { ?s ?p ?o }", "graph_id": "1234"}'
```

```bash
# Execute a SPARQL query via protocol endpoint
curl -X POST http://localhost:5000/sparql?graph_id=1234 \
     -H "Content-Type: application/sparql-query" \
     -d "SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 10"
```

```bash
# Execute a SPARQL update via protocol endpoint
curl -X POST http://localhost:5000/sparql?graph_id=1234 \
     -H "Content-Type: application/sparql-update" \
     -d "INSERT DATA { <http://example.org/s> <http://example.org/p> \"o\" }"
```

```bash
# Search entities
curl -X POST http://localhost:5000/api/search \
     -H "Content-Type: application/json" \
     -d '{"query": "Entity 1", "search_by": "label"}'
```

```bash
# Extract entities and relationships
curl -X POST http://localhost:5000/api/llm/extract \
     -H "Content-Type: application/json" \
     -d '{"text": "Pizza is made from dough and cheese."}'
```

```bash
# Recommend graph entities for extracted mentions
curl -X POST http://localhost:5000/api/llm/link \
     -H "Content-Type: application/json" \
     -d '{"graph_id": "1234", "entities": [{"id": "e1", "text": "Pizza"}]}'
```

```bash
# Clear all graphs (cleanup after tests)
curl -X POST http://localhost:5000/api/graphs/clear \
     -H "Content-Type: application/json" \
     -d '{"clear_history": true, "clear_index": true}'
```

```bash
# Get query history
curl http://localhost:5000/api/queries/history
```

---

For full API documentation and interactive Swagger UI, run the application and navigate to `http://localhost:5000/apidocs` once Swagger support is added.
