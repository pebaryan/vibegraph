<div class="search-container">
  <mat-form-field appearance="outline" class="search-field">
    <mat-label>Search</mat-label>
    <input matInput [formControl]="queryCtrl" placeholder="Type a query" />
  </mat-form-field>

  <div *ngIf="loading" class="loading">
    <mat-spinner diameter="30"></mat-spinner>
  </div>

  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="results.length > 0" class="results">
    <div class="results-header">
      <span class="results-count">{{ results.length }} result(s)</span>
    </div>
    <mat-card class="result-card" *ngFor="let r of results">
      <div class="result-main">
        <div class="result-title">
          <span>{{ displayLabel(r) }}</span>
          <button
            mat-icon-button
            color="primary"
            aria-label="Open"
            [routerLink]="['/graph-navigation']"
            [queryParams]="{ focusValue: r.iri, id: r.graph_id }"
          >
            <mat-icon>pageview</mat-icon>
          </button>
        </div>
        <div class="result-sub">
          <span class="result-iri">{{ displayIri(r) }}</span>
        </div>
        <div class="result-sub">
          <span class="result-graph">Graph: {{ r.graph_id || "unknown" }}</span>
        </div>
      </div>
    </mat-card>
  </div>
  <div
    *ngIf="!loading && results.length === 0 && queryCtrl.value"
    class="no-results"
  >
    No results found.
  </div>
</div>
